<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Malware Simulation</title>
<style>
  body {
    margin: 0;
    background: black;
    color: #ccc;
    font-family: monospace;
    font-size: 14px;
    padding: 10px;
    white-space: pre-wrap;
  }
  #alert {
    font-size: 28px;
    color: red;
    font-weight: bold;
    margin-top: 20px;
    text-align: center;
  }
  .popup {
    display: none;
    position: fixed;
    top:0; left:0; right:0; bottom:0;
    background: rgba(0,0,0,0.95);
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10;
    text-align: center;
    font-family: monospace;
    flex-direction: column;
  }
  .popup button {
    margin-top: 10px;
    padding: 5px 10px;
    font-family: monospace;
    background: black;
    color: #fff;
    border: 1px solid #fff;
    cursor: pointer;
  }
</style>
</head>
<body>
<div id="log"></div>
<div id="alert"></div>

<div id="popup" class="popup">
  <div>
    <p>⚠ ALERT: This was just a simulation. No real harm occurred.<br>
    Be cautious with suspicious links and files!</p>
    <button onclick="closePopup()">OK</button>
  </div>
</div>

<script>
const logDiv = document.getElementById('log');
const alertDiv = document.getElementById('alert');

// Funkce pro generování náhodného hex ID
function randomHex(len) {
  let s = '';
  const chars = '0123456789ABCDEF';
  for(let i=0; i<len; i++){
    s += chars[Math.floor(Math.random()*16)];
  }
  return s;
}

// Simulované logy
const baseMessages = [
  "Initializing system scan...",
  "Checking user permissions...",
  "Unauthorized access detected...",
  "Generating malware IDs...",
  "Access escalation attempt...",
  "Firewall bypass initiated...",
  "Scanning open ports...",
  "Injecting payload...",
  "System lockdown triggered..."
];

// Přidáme náhodná data do logů
let messages = [];
for(let msg of baseMessages){
  messages.push(msg);
  if(Math.random() > 0.5){
    messages.push("ID: " + randomHex(6) + "-" + randomHex(4));
  }
  if(Math.random() > 0.6){
    messages.push("Port " + Math.floor(Math.random()*65535) + " scanned...");
  }
}

let i = 0;

function showNextMessage() {
  if(i < messages.length){
    logDiv.textContent += messages[i] + "\n";
    i++;
    setTimeout(showNextMessage, 400 + Math.random()*400); // náhodný delay pro realističtější efekt
  } else {
    // Po dokončení logu zobrazíme červený nápis
    alertDiv.textContent = "YOU'VE BEEN HACKED!";
    // Po 2.5 sekundách zobrazíme popup s vysvětlením
    setTimeout(() => {
      document.getElementById('popup').style.display = 'flex';
    }, 2500);
  }
}

function closePopup(){
  document.getElementById('popup').style.display = 'none';
  alertDiv.textContent = "";
}

// Spuštění simulace po načtení stránky
document.addEventListener("DOMContentLoaded", showNextMessage);
</script>
</body>
</html>
